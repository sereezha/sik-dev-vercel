---
import Link from '@components/Link.astro';
import BaseHeader, { type IHeaderLink } from './BaseHeader.astro';
import { AnchorLinks } from 'src/config';

const links: IHeaderLink[] = [
  {
    href: AnchorLinks.howItWorks,
    text: 'Як це працює',
    props: {
      'data-analytics': 'header_link_click',
      'data-analytics-options': '{"label": "Як це працює"}',
    },
  },
  {
    href: AnchorLinks.whatsInside,
    text: 'Що всередині',
    props: {
      'data-analytics': 'header_link_click',
      'data-analytics-options': '{"label": "Що всередині"}',
    },
  },
  {
    href: AnchorLinks.subscribe,
    text: 'Ціни',
    props: {
      'data-analytics': 'header_link_click',
      'data-analytics-options': '{"label": "Ціни"}',
    },
  },
  {
    href: AnchorLinks.forWho,
    text: 'Для кого',
    props: {
      'data-analytics': 'header_link_click',
      'data-analytics-options': '{"label": "Для кого"}',
    },
  },
];
---

<BaseHeader
  className="header is-visible"
  data-sh-reveal-on-back-scroll
  hasMobileView
  isSticky
  links={links}
>
  <div slot="actions">
    <Link
      class="js-subscribe-link"
      href={AnchorLinks.subscribe}
      isAnchor
      withIcon
      x-data
      x-on:click="$store.mainHeader.headerLinkClick()"
      data-analytics="header_link_subscribe_click">Підписатись</Link
    >
  </div>
</BaseHeader>

<style lang="scss">
  .header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 999;
    display: flex;
    justify-content: space-between;
    gap: 12px;
    transition: opacity 0.3s ease-in-out;
    pointer-events: none;
    opacity: 0;
    &.is-visible {
      opacity: 1;
      pointer-events: auto;
    }
  }
</style>
