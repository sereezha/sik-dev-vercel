---
import { SocialLinks } from 'src/config';
import Button from '../Button.astro';
import Modal from '../modal/Modal.astro';
import { ModalIds } from 'src/constants/modals';
---

<Modal
  type="error"
  showCloseButton
  id={ModalIds.ERROR_MODAL}
  description="Не перейматесь, проблема на нашому боці — вже розбираємось. А ви поки напишіть нам в Телеграмі, ми з радістю допоможемо оформити замовлення."
  x-data="errorModal"
>
  <Fragment slot="title">Щось пішло не так.</Fragment>
  <Fragment slot="buttons">
    <Button href={SocialLinks.telegram} x-on:click="onClick" fullWidth
      >Телеграм</Button
    >
  </Fragment>
</Modal>

<script>
  import Alpine from 'alpinejs';
  import { ModalIds } from 'src/constants/modals';

  document.addEventListener('alpine:init', () => {
    Alpine.data('errorModal', () => ({
      onClick() {
        window.modalController.hide(ModalIds.ERROR_MODAL);
      },
    }));
  });
</script>
